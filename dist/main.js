!function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([function(t,e){t.exports='<svg id="particle-tracks-perlin-noise-svg"><filter id="bg-noise" x="0%" y="0%" width="100%" height="100%"><feTurbulence id="particle-tracks-perlin-turbulence" type="fractalNoise" result="bgTurbulence" baseFrequency="0.3"></feTurbulence></filter><rect x="0" y="0" width="100%" height="100%" filter="url(#bg-noise)" fill="transparent"></rect></svg>'},function(t,e,i){"use strict";i.r(e);var r=i(0),n=i.n(r);function a(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.targetContainer=e,this.perlinSeed=0,this.filterTurbulence=null}var e,i,r;return e=t,(i=[{key:"init",value:function(){var t=this;this.targetContainer.innerHTML+=n.a;var e=document.getElementById("particle-tracks-perlin-noise-svg");this.setupSVG(e),this.filterTurbulence=document.getElementById("particle-tracks-perlin-turbulence"),setInterval(function(){return t.updateNoise()},500)}},{key:"setupSVG",value:function(t){var e=this.targetContainer.getBoundingClientRect();t.style.position="absolute",t.style.top=e.top,t.style.left=e.left,t.style.width=e.width,t.style.height=e.height,t.style.zIndex=1,t.style.opacity=.75}},{key:"getPerlinSeed",value:function(){return this.perlinSeed=(this.perlinSeed+1)%100,this.perlinSeed}},{key:"updateNoise",value:function(){this.filterTurbulence.setAttribute("seed",this.getPerlinSeed())}}])&&a(e.prototype,i),r&&a(e,r),t}();function c(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e}var e,i,r;return e=t,(i=[{key:"init",value:function(){var t=this;this.prepareContext(this.container),setInterval(function(){return t.drawParticles()},25),setInterval(function(){return t.fadeOut()},250)}},{key:"prepareContext",value:function(t){var e=window.devicePixelRatio||1,i=document.createElement("canvas");i.id="particle-tracks-particle-canvas",t.appendChild(i),(i=document.getElementById("particle-tracks-particle-canvas")).style.position="absolute",i.style.top=0,i.style.left=0,i.style.width="100%",i.style.height="100%";var r=i.getBoundingClientRect();ParticleTracks.width=r.width,ParticleTracks.height=r.width,i.width=r.width*e,i.height=r.height*e,this.canvas=i;var n=i.getContext("2d");n.scale(e,e),n.fillStyle="yellow",n.fillRect(0,0,this.canvas.width,this.canvas.height),this.context=n}},{key:"drawParticles",value:function(){var t=this;ParticleTracks.activeParticles.forEach(function(e){t.draw(e),e.update()})}},{key:"draw",value:function(t){if(0!=t.mass&&!t.stopped()){var e=this.context,i=10+.0075*t.mass-t.z;e.lineWidth=i,e.lineCap="round",e.beginPath(),e.moveTo(t.x_prev,t.y_prev),e.lineTo(t.x,t.y),e.strokeStyle=this.particleTrackGradient(t.x_prev,t.x,t.y_prev,t.y,i),e.stroke(),e.closePath()}}},{key:"particleTrackGradient",value:function(t,e,i,r,n){var a=t-e,o=i-r,c=Math.sqrt(a*a+o*o),s=t+n/2*(o/=c),l=i-n/2*(a/=c),u=t-n/2*o,h=i+n/2*a,f=this.context.createLinearGradient(u,h,s,l);return f.addColorStop(0,"#ffffff00"),f.addColorStop(.3-.05*Math.random(),"black"),f.addColorStop(.45,"#01A1FE"),f.addColorStop(.55,"#01A1FE"),f.addColorStop(.7+.05*Math.random(),"black"),f.addColorStop(1,"#ffffff00"),f}},{key:"fadeOut",value:function(){this.context.fillStyle="rgba(255,255,0,0.2)",this.context.fillRect(0,0,this.canvas.width,this.canvas.height)}}])&&c(e.prototype,i),r&&c(e,r),t}();function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,i){return e&&p(t.prototype,e),i&&p(t,i),t}var b=function(){function t(e,i,r,n,a,o,c,s){v(this,t),this.mass=s,this.charge=c,this.chargeToMassRatio=c/s,this.x_prev=e,this.y_prev=i,this.v_x=n,this.v_y=a,this.v_z=o,this.x=this.x_prev+this.v_x,this.y=this.y_prev+this.v_y,this.z=r}return d(t,[{key:"absVelocity",value:function(){return Math.sqrt(Math.pow(this.v_x,2)+Math.pow(this.v_y,2))}},{key:"stopped",value:function(){return this.absVelocity()<=2.5}},{key:"update",value:function(){if(null!=this.decayProbability&&this.decayProbability>Math.random())this.decay();else{var t=this.x>2*ParticleTracks.width||this.x<-1*ParticleTracks.width,e=this.y>2*ParticleTracks.height||this.y<-1*ParticleTracks.height,i=Math.abs(this.z)>3;if(t||e||i||this.stopped()){var r=ParticleTracks.activeParticles.indexOf(this);ParticleTracks.activeParticles.splice(r,1)}else if(this.x_prev=this.x,this.y_prev=this.y,this.x=this.x_prev+this.v_x,this.y=this.y_prev+this.v_y,this.z=this.z+this.v_z,0!=this.mass){var n=this.chargeToMassRatio*this.v_y*.1,a=-1*this.chargeToMassRatio*this.v_x*.13,o=.5+.001*Math.pow(this.absVelocity(),2),c=o*this.v_x/this.absVelocity(),s=o*this.v_y/this.absVelocity();this.v_x=this.v_x+n-c,this.v_y=this.v_y+a-s}}}}]),t}(),_=function(t){function e(t,i,r,n,a,o){return v(this,e),u(this,h(e).call(this,t,i,r,n,a,o,-1,.5))}return f(e,b),e}(),g=function(t){function e(t,i,r,n,a,o){return v(this,e),u(this,h(e).call(this,t,i,r,n,a,o,1,.5))}return f(e,b),e}(),P=function(t){function e(t,i,r,n,a,o){var c;return v(this,e),(c=u(this,h(e).call(this,t,i,r,n,a,o,-1,500))).decayProbability=.02,c}return f(e,b),d(e,[{key:"decay",value:function(){var t=new _(this.x,this.y,this.z,.5*this.v_x,.5*this.v_y,.5*this.v_z);ParticleTracks.activeParticles.push(t),this.v_x=0,this.v_y=0}}]),e}(),k=function(t){function e(t,i,r,n,a,o){var c;return v(this,e),(c=u(this,h(e).call(this,t,i,r,n,a,o,0,0))).decayProbability=.3,c}return f(e,b),d(e,[{key:"decay",value:function(){var t=new _(this.x,this.y,this.z,.5*this.v_x,.5*this.v_y,.5*this.v_z),e=new g(this.x,this.y,this.z,.5*this.v_x,.5*this.v_y,.5*this.v_z);ParticleTracks.activeParticles.push(t,e),this.v_x=0,this.v_y=0}}]),e}(),w=function(t){function e(t,i,r,n,a,o){return v(this,e),u(this,h(e).call(this,t,i,r,n,a,o,1,900))}return f(e,b),e}(),x=function(t){function e(t,i,r,n,a,o){var c;return v(this,e),(c=u(this,h(e).call(this,t,i,r,n,a,o,0,900))).decayProbability=.05,c}return f(e,b),d(e,[{key:"decay",value:function(){var t=new _(this.x,this.y,this.z,.6*this.v_x,.6*this.v_y,.6*this.v_z),e=new w(this.x,this.y,this.z,.7*this.v_x,.7*this.v_y,.6*this.v_z);ParticleTracks.activeParticles.push(t,e),this.v_x=0,this.v_y=0}}]),e}();function m(t,e,i){return(m=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,i){var r=[null];r.push.apply(r,e);var n=new(Function.bind.apply(t,r));return i&&T(n,i.prototype),n}).apply(null,arguments)}function T(t,e){return(T=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function S(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function M(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function O(t){return t[Math.floor(Math.random()*t.length)]}var C=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.generateParticleTypes=[g,P,k,w,x]}var e,i,r;return e=t,(i=[{key:"init",value:function(){var t=this;this.createParticle(),setInterval(function(){return t.createParticle()},1e3+1e3*Math.random())}},{key:"createParticle",value:function(){var t=O(this.generateParticleTypes),e=20+30*Math.random(),i=20+30*Math.random(),r=ParticleTracks.width,n=ParticleTracks.height,a=r*Math.random(),o=n*Math.random(),c=1*Math.random(),s=.1*Math.random()*-1*c/Math.abs(c),l=O([[0,o,c,e,i,s],[a,0,c,i,e,s],[r,o,c,-e,i,s],[a,n,c,-i,e,s]]);ParticleTracks.activeParticles.push(m(t,S(l)))}}])&&M(e.prototype,i),r&&M(e,r),t}();!function(t){t.ParticleTracks={},ParticleTracks.init=function(t){var e=t.container,i=void 0===e?"":e;ParticleTracks.container=document.getElementById(i),ParticleTracks.noiseLayer=new o(ParticleTracks.container),ParticleTracks.noiseLayer.init(),ParticleTracks.particleCanvas=new s(ParticleTracks.container),ParticleTracks.particleCanvas.init(),ParticleTracks.activeParticles=[],ParticleTracks.generator=new C,ParticleTracks.generator.init(),console.log("Particle tracks simulation initiated.")}}(window)}]);